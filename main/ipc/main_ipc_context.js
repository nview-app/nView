function buildMainIpcContext(deps) {
  return {
    ipcMain: deps.ipcMain,
    settingsManager: deps.settingsManager,
    ensureBrowserWindow: deps.ensureBrowserWindow,
    ensureDownloaderWindow: deps.ensureDownloaderWindow,
    emitDownloadCount: deps.emitDownloadCount,
    ensureImporterWindow: deps.ensureImporterWindow,
    ensureExporterWindow: deps.ensureExporterWindow,
    ensureReaderWindow: deps.ensureReaderWindow,
    ensureGalleryWindow: deps.ensureGalleryWindow,
    getGalleryWin: deps.getGalleryWin,
    sendToGallery: deps.sendToGallery,
    sendToReader: deps.sendToReader,
    getBrowserView: deps.getBrowserView,
    getBrowserWin: deps.getBrowserWin,
    sanitizeAltDownloadPayload: deps.sanitizeAltDownloadPayload,
    dl: deps.dl,
    sendToDownloader: deps.sendToDownloader,
    LIBRARY_ROOT: deps.LIBRARY_ROOT,
    DEFAULT_LIBRARY_ROOT: deps.DEFAULT_LIBRARY_ROOT,
    resolveConfiguredLibraryRoot: deps.resolveConfiguredLibraryRoot,
    validateWritableDirectory: deps.validateWritableDirectory,
    validateWritableDirectoryAsync: deps.validateWritableDirectoryAsync,
    isDirectoryEmpty: deps.isDirectoryEmpty,
    isDirectoryEmptyAsync: deps.isDirectoryEmptyAsync,
    isSameOrChildPath: deps.isSameOrChildPath,
    migrateLibraryContentsBatched: deps.migrateLibraryContentsBatched,
    issueLibraryCleanupToken: deps.issueLibraryCleanupToken,
    applyConfiguredLibraryRoot: deps.applyConfiguredLibraryRoot,
    sendToBrowser: deps.sendToBrowser,
    scanLibraryContents: deps.scanLibraryContents,
    scanLibraryContentsAsync: deps.scanLibraryContentsAsync,
    dialog: deps.dialog,
    getDownloaderWin: deps.getDownloaderWin,
    isProtectedCleanupPath: deps.isProtectedCleanupPath,
    consumeLibraryCleanupToken: deps.consumeLibraryCleanupToken,
    cleanupHelpers: deps.cleanupHelpers,
    getVaultPolicy: deps.getVaultPolicy,
    validateVaultPassphrase: deps.validateVaultPassphrase,
    vaultManager: deps.vaultManager,
    encryptLibraryForVault: deps.encryptLibraryForVault,
    shell: deps.shell,
    loadBookmarksFromDisk: deps.loadBookmarksFromDisk,
    addBookmarkForPage: deps.addBookmarkForPage,
    removeBookmarkById: deps.removeBookmarkById,
    getInProgressDownloadCount: deps.getInProgressDownloadCount,
    ensureDirs: deps.ensureDirs,
    isUnderLibraryRoot: deps.isUnderLibraryRoot,
    normalizeOpenPathResult: deps.normalizeOpenPathResult,
    fs: deps.fs,
    path: deps.path,
    buildComicEntry: deps.buildComicEntry,
    scanImportRoot: deps.scanImportRoot,
    scanSingleManga: deps.scanSingleManga,
    normalizeImportItemsPayload: deps.normalizeImportItemsPayload,
    importLibraryCandidates: deps.importLibraryCandidates,
    getVaultRelPath: deps.getVaultRelPath,
    movePlainDirectImagesToVault: deps.movePlainDirectImagesToVault,
    normalizeGalleryId: deps.normalizeGalleryId,
    normalizeTagsInput: deps.normalizeTagsInput,
    writeLibraryIndexEntry: deps.writeLibraryIndexEntry,
    getExporterWin: deps.getExporterWin,
    getImporterWin: deps.getImporterWin,
    buildSelectedEntries: deps.buildSelectedEntries,
    listLibraryEntriesForExport: deps.listLibraryEntriesForExport,
    estimateExportBytes: deps.estimateExportBytes,
    mapExportResult: deps.mapExportResult,
    exportSingleManga: deps.exportSingleManga,
    loadLibraryIndexCache: deps.loadLibraryIndexCache,
    readLibraryIndexEntry: deps.readLibraryIndexEntry,
    listEncryptedImagesRecursiveSorted: deps.listEncryptedImagesRecursiveSorted,
    deleteLibraryIndexEntry: deps.deleteLibraryIndexEntry,
    nativeImage: deps.nativeImage,
    ensureThumbCacheDir: deps.ensureThumbCacheDir,
    resolveThumbCacheKeyPayload: deps.resolveThumbCacheKeyPayload,
    normalizeGalleryIdInput: deps.normalizeGalleryIdInput,
    app: deps.app,
    THUMB_CACHE_MAX_BYTES: deps.THUMB_CACHE_MAX_BYTES,
    getBrowserSidePanelWidth: deps.getBrowserSidePanelWidth,
    setBrowserSidePanelWidth: deps.setBrowserSidePanelWidth,
    listFilesRecursive: deps.listFilesRecursive,
    getWebContentsRole: deps.getWebContentsRole,
  };
}

module.exports = {
  buildMainIpcContext,
};
